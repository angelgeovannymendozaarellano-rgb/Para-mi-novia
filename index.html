<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorpresa de San Valent√≠n üéÅüíú</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background: radial-gradient(circle at center, #300018 0%, #100020 100%);
            color: #f3e5f5;
            margin: 0;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Pantalla de Inicio */
        #pantalla-inicio {
            position: fixed; inset: 0;
            background: linear-gradient(45deg, #1a0033, #4b0026);
            z-index: 9999; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
        }

        .btn-comenzar {
            background: #e91e63; color: white; padding: 20px 45px;
            border-radius: 50px; font-size: 1.5rem; font-weight: bold;
            cursor: pointer; box-shadow: 0 0 30px rgba(233, 30, 99, 0.5);
            transition: 0.3s;
        }

        /* Bot√≥n de M√∫sica Flotante */
        #btn-musica {
            position: fixed; top: 20px; right: 20px;
            z-index: 10001; background: #e91e63;
            width: 55px; height: 55px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; box-shadow: 0 0 15px rgba(233, 30, 99, 0.7);
            font-size: 1.5rem; border: 2px solid white;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        #caja-seccion {
            position: fixed; inset: 0; z-index: 5000;
            background: radial-gradient(circle at center, #300018 0%, #100020 100%);
            display: none; flex-direction: column; justify-content: center; align-items: center;
        }

        /* CAJA 3D */
        .gift-container { position: relative; width: 180px; height: 180px; perspective: 1000px; cursor: pointer; }
        .gift-box { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; transition: transform 1s; transform: rotateX(-15deg) rotateY(15deg); }
        .gift-side { position: absolute; width: 180px; height: 180px; background: #e91e63; border: 1px solid #c2185b; }
        .front { transform: rotateY(0deg) translateZ(90px); }
        .back { transform: rotateY(180deg) translateZ(90px); }
        .left { transform: rotateY(-90deg) translateZ(90px); }
        .right { transform: rotateY(90deg) translateZ(90px); }
        .top { transform: rotateX(90deg) translateZ(90px); background: #ff4081; z-index: 10; transition: 0.8s; }
        .bottom { transform: rotateX(-90deg) translateZ(90px); background: #880e4f; }
        .ribbon-v { position: absolute; width: 30px; height: 100%; background: #ffd700; left: 75px; }
        .ribbon-h { position: absolute; width: 100%; height: 30px; background: #ffd700; top: 75px; }
        .gift-container.open .top { transform: rotateX(110deg) translateZ(150px) translateY(-150px); opacity: 0; }

        /* GLOBOS */
        .balloon { position: absolute; bottom: 50px; width: var(--sz); height: calc(var(--sz) * 1.2); border-radius: 50%; z-index: 6000; animation: balloonUp var(--dur) ease-in forwards; opacity: 0.9; }
        @keyframes balloonUp { 0% { transform: translateY(0) scale(0.5); opacity: 1; } 100% { transform: translateY(-120vh) translateX(var(--x-move)) scale(1.2); opacity: 0; } }

        /* CONTENIDO */
        #main-content { display: none; opacity: 0; transition: 1.5s; width: 100%; flex-direction: column; align-items: center; padding-bottom: 100px; }
        .foto-frame { width: 140px; height: 140px; border: 5px solid white; border-bottom: 20px solid white; box-shadow: 0 10px 20px rgba(0,0,0,0.5); transform: rotate(var(--rot)); margin: 10px; background: #ddd; overflow: hidden; }
        .foto-frame img { width: 100%; height: 100%; object-fit: cover; }
        .envelope-container { display: flex; align-items: flex-end; justify-content: center; gap: 30px; background: rgba(255, 255, 255, 0.05); padding: 40px 20px; border-radius: 30px; backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .envelope-wrapper { cursor: pointer; position: relative; }
        .envelope { position: relative; background: #7b1fa2; border-radius: 0 0 10px 10px; z-index: 10; }
        .envelope::before { content: ""; position: absolute; top: 0; z-index: 12; border-top: var(--flap-size) solid #e91e63; border-left: var(--side-size) solid transparent; border-right: var(--side-size) solid transparent; transform-origin: top; transition: 0.6s; }
        .envelope.open::before { transform: rotateX(180deg); }
        .letter { position: absolute; bottom: 5px; left: 5%; width: 90%; background: white; color: #2d004b; padding: 15px; border-radius: 5px; transition: 0.8s; max-height: 0; opacity: 0; overflow: hidden; }
        .envelope.open .letter { transform: translateY(var(--letter-up)); z-index: 15; max-height: 400px; opacity: 1; padding: 20px; }
        .main-env { --flap-size: 100px; --side-size: 140px; --letter-up: -240px; width: 280px; height: 160px; }
        .mini-env { --flap-size: 35px; --side-size: 55px; --letter-up: -120px; width: 110px; height: 75px; }

        .fuente-elegante { font-family: 'Dancing Script', cursive; }
        .falling-item { position: fixed; top: -10vh; animation: fall linear forwards; z-index: 2000; pointer-events: none; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
    </style>
</head>
<body>

    <div id="btn-musica" onclick="abrirSpotify()">üéµ</div>

    <div id="pantalla-inicio">
        <div class="text-8xl mb-6 animate-bounce">üéÅ</div>
        <h1 class="text-4xl text-white fuente-elegante mb-10 px-6">¬øPreparada para tu sorpresa?</h1>
        <button class="btn-comenzar" onclick="irACaja()">VER REGALO ‚ú®</button>
    </div>

    <div id="caja-seccion">
        <p class="fuente-elegante text-2xl text-pink-200 mb-10 animate-pulse">Toca la caja para abrirla...</p>
        <div class="gift-container" onclick="abrirCaja(this)">
            <div class="gift-box">
                <div class="gift-side front"><div class="ribbon-v"></div></div>
                <div class="gift-side back"><div class="ribbon-v"></div></div>
                <div class="gift-side left"><div class="ribbon-h"></div></div>
                <div class="gift-side right"><div class="ribbon-h"></div></div>
                <div class="gift-side top"><div class="ribbon-v"></div><div class="ribbon-h"></div></div>
                <div class="gift-side bottom"></div>
            </div>
            <div id="globos-container"></div>
        </div>
    </div>

    <div id="main-content">
        <h1 class="text-5xl md:text-6xl text-white fuente-elegante text-center mb-8 mt-10">¬°Feliz San Valent√≠n! üíñ</h1>
        
        <div class="flex flex-wrap justify-center gap-4 mb-12">
            <div class="foto-frame" style="--rot: -5deg;"><img src="https://via.placeholder.com/150/e91e63/ffffff?text=Foto+1" alt="1"></div>
            <div class="foto-frame" style="--rot: 5deg;"><img src="https://via.placeholder.com/150/7b1fa2/ffffff?text=Foto+2" alt="2"></div>
            <div class="foto-frame" style="--rot: -3deg;"><img src="https://via.placeholder.com/150/ff4081/ffffff?text=Foto+3" alt="3"></div>
        </div>

        <img src="https://i.postimg.cc/FHKbPGy6/1000056831-removebg-preview.png" alt="Coraz√≥n" class="w-64 md:w-80 mb-12 drop-shadow-2xl animate-pulse">

        <div class="envelope-container flex-col md:flex-row items-center md:items-end">
            <div class="envelope-wrapper" onclick="toggleMain()">
                <div class="envelope main-env" id="main-envelope">
                    <div class="letter"><p id="main-texto" class="text-sm md:text-base text-gray-800 text-center italic font-medium"></p></div>
                </div>
                <p class="text-center text-pink-200 mt-4 text-xs tracking-widest uppercase">Leer carta üíå</p>
            </div>
            <div class="envelope-wrapper" onclick="toggleMini()">
                <div class="envelope mini-env" id="mini-envelope">
                    <div class="letter"><p id="mini-texto" class="text-center font-bold text-pink-900 text-xs italic"></p></div>
                </div>
                <p class="text-center text-pink-200 mt-2 text-[10px] tracking-widest uppercase">Detalle üíã</p>
            </div>
        </div>

        <div class="mt-16 text-center px-6">
            <h2 class="fuente-elegante text-4xl text-pink-300 mb-4">Eres mi persona favorita</h2>
            <p class="text-pink-100 max-w-md mx-auto italic opacity-80">"En un mundo lleno de gente, mis ojos siempre te buscar√°n a ti."</p>
        </div>
        <p class="text-pink-400 mt-20 fuente-elegante text-2xl pb-10">Siempre juntos... ‚ù§Ô∏è</p>
    </div>

    <script>
        const spotifyLink = "Https://open.spotify.com/playlist/0iJV60p2hr1koM1vNnMTFt?si=ZtRByQYPS52I5k_gjbgCgw&pt=4fa207f978d220537f8a7c58c6637fed&pi=QyuD6dVLTp-i-"; 
        const textoCarta = "Mi ni√±a hermosa, en este 14 de febrero quiero decirte que eres el regalo m√°s bonito que la vida me ha dado. No necesito un d√≠a especial para amarte, porque te amo cada segundo. ¬°Feliz San Valent√≠n, reina!";
        const frasesMini = ["Eres mi mundo. üåé", "Un besito. üíã", "Te amo infinito. ‚ù§Ô∏è"];

        function abrirSpotify() {
            window.open(spotifyLink, '_blank');
        }

        function irACaja() {
            document.getElementById('pantalla-inicio').style.display = 'none';
            document.getElementById('caja-seccion').style.display = 'flex';
        }

        function abrirCaja(el) {
            if (el.classList.contains('open')) return;
            el.classList.add('open');
            const container = document.getElementById('globos-container');
            for(let i=0; i<50; i++) {
                const b = document.createElement('div');
                b.className = 'balloon';
                b.style.setProperty('--sz', `${Math.random()*30+20}px`);
                b.style.backgroundColor = ['#ff4081','#e91e63','#7b1fa2','#ffd700','#ffffff'][Math.floor(Math.random()*5)];
                b.style.left = '70px';
                b.style.setProperty('--x-move', (Math.random()*600 - 300) + 'px');
                b.style.setProperty('--dur', (Math.random()*2+2)+'s');
                b.style.animationDelay = (Math.random()*0.8)+'s';
                container.appendChild(b);
            }
            setTimeout(() => {
                document.getElementById('caja-seccion').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('caja-seccion').style.display = 'none';
                    const main = document.getElementById('main-content');
                    main.style.display = 'flex';
                    setTimeout(() => main.style.opacity = '1', 100);
                    setInterval(crearCorazon, 300);
                    document.body.style.overflow = "auto";
                }, 800);
            }, 3000);
        }

        function toggleMain() {
            const env = document.getElementById('main-envelope');
            if(!env.classList.contains('open')) { env.classList.add('open'); escribir('main-texto', textoCarta); }
            else env.classList.remove('open');
        }

        function toggleMini() {
            const env = document.getElementById('mini-envelope');
            if(!env.classList.contains('open')) { env.classList.add('open'); escribir('mini-texto', frasesMini[Math.floor(Math.random()*frasesMini.length)]); }
            else env.classList.remove('open');
        }

        function escribir(id, txt) {
            let i = 0; const c = document.getElementById(id); c.innerHTML = "";
            function type() { if(i < txt.length) { c.innerHTML += txt.charAt(i++); setTimeout(type, 35); } }
            type();
        }

        function crearCorazon() {
            const el = document.createElement('div');
            el.className = 'falling-item';
            el.innerHTML = ['‚ù§Ô∏è', 'üíñ', 'üíú'][Math.floor(Math.random()*3)];
            el.style.left = Math.random()*100 + "vw";
            el.style.fontSize = (Math.random()*20+15)+"px";
            el.style.animationDuration = (Math.random()*3+2)+"s";
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 5000);
        }
    </script>
</body>
</html>
